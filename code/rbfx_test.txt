
// const ptr = allocateUTF8("Emscripten")
// FM_GLOBAL.DTWIN._CreateChild('ptr');


// // 使用allocateUTF8()将字符串传入C/C内存
// const ptr = allocateUTF8("你好，Emscripten！")
// Module._print_string(ptr)
// _free(ptr)

var jsString = 'Emscripten';
var lengthBytes = FM_GLOBAL.DTWIN_WINDOW.lengthBytesUTF8(jsString) + 1;
var stringOnWasmHeap = FM_GLOBAL.DTWIN_WINDOW._malloc(lengthBytes);
FM_GLOBAL.DTWIN_WINDOW.stringToUTF8(jsString, stringOnWasmHeap, lengthBytes);
FM_GLOBAL.DTWIN._CreateChild(stringOnWasmHeap);
FM_GLOBAL.DTWIN_WINDOW._free(stringOnWasmHeap);

// const ptr = FM_GLOBAL.DTWIN_WINDOW._malloc("Emscripten")
// console.log("+- 1 " + FM_GLOBAL.DTWIN_WINDOW.UTF8ToString(ptr));
// console.log(ptr);
// FM_GLOBAL.DTWIN._CreateChild(ptr);
// console.log("+- 2 " + FM_GLOBAL.DTWIN_WINDOW.UTF8ToString(ptr));
// FM_GLOBAL.DTWIN_WINDOW._free(ptr)

